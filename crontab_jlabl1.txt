# use /bin/tcsh to run commands, no matter what /etc/passwd says
# SHELL=/bin/tcsh
# mail any output to `marki@jlab.org`
MAILTO=marki@jlab.org
#
# nightly build
#
0 0 * * * /home/gluex/bin/nightly.sh
#
# calib svn update
#
#0 0 * * * cd /group/halld/Software/calib/latest ; svn update
#
# b1pi analysis
#
0 8 * * mon,thu /group/halld/Software/scripts/b1pi_test/b1pi_cron.sh
#
# delete old nightly builds on scratch disk
#
0 5 * * * echo delete old nightly builds ; cd /u/scratch/gluex/nightly ; ls | perl -n -e 'print; chomp; $dir = $_; $count = `find $dir -type f | head | wc -l`; chomp $count; print "$count\n"; if (! $count) {print "removing directory $dir\n"; system "rm -rf $dir\n"}'
#
# single track reconstruction
#
0 8 * * tue,fri /group/halld/Software/scripts/single_track_macros/single_track_cron.sh
#
# production web site updates
#
0 * * * * cd /group/halld/www/halldweb1/html/data_challenge ; svn update | grep -v At\ revision
0 * * * * cd /group/halld/www/halldweb1/html/detcom ; svn update | grep -v At\ revision
#
# ccdb mirror server update
#
0 0 * * * /home/gluex/bin/ccdb_mirror.sh
#
# ccdb sqlite version
#     create new versions
0 0 * * * /home/gluex/bin/ccdb_sqlite_create.sh 
#     delete old versions
0 0 * * * cd /group/halld/Software/calib/ccdb_sqlite ; find . \( \( -atime +3 -not -name \*07.sqlite -not -name \*14.sqlite -not -name \*21.sqlite -not -name \*28.sqlite \) -o \( -atime +30 -not -name \*07.sqlite \) \) -not -name ccdb_2013-01-17.sqlite -exec rm -v {} \;
#
# update ccdb users from NIS tables
#
0 0 * * * /home/gluex/bin/ccdb_update_users.sh
#
# valgrind test
#
0 0 * * wed,sat /group/halld/Software/scripts/valgrind/valgrind_cron.sh
#
# update build_scripts directory
#
0 0 * * * cd /group/halld/Software/scripts/build_scripts ; svn update
#
# test ccdb
#
0 0 * * * /home/gluex/bin/ccdb_test.sh
# end of crontab

